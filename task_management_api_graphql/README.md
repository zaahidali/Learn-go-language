## Task Management API with GraphQL

This repository contains the implementation of a ***Task Management API using GraphQL(gqlgen) and Go***. The API allows users to manage tasks and perform various operations such as creating a user, creating a task, updating a task, deleting a task, and retrieving task-related information.

### Technologies Used

- **Go**: Programming language used for building the API.
- **gqlgen**: Go library for generating GraphQL servers based on a schema and resolver functions.
- **Database**: The API interacts with a database to store and retrieve task and user information. Make sure to configure your database connection accordingly.

### Getting Started

To get started with the Task Management API, follow these steps:

1. **Clone the repository:**

   ```shell
   git clone https://github.com/zaahidali/Learn-go-language.git
   ```

2. **Navigate to the `task_management_api_graphql` directory:**

   ```shell
   cd Learn-go-language/task_management_api_graphql
   ```

3. **Install the required dependencies:**

   ```shell
   go mod download
   ```

4. **Configure the database connection:**

   Open the `config.yaml` file and update the database connection details according to your setup.

5. **Run the API:**

   ```shell
   go run server.go
   ```

   The API server will be running on `http://localhost:8080`.

### Schema

The GraphQL schema defines the available queries and mutations for interacting with the Task Management API. Here are the key components of the schema:

- **User**: Represents a user in the system. It has fields such as `id`, `name`, `email`, and `tasks`.
- **Task**: Represents a task in the system. It has fields such as `id`, `title`, `description`, `status`, `dueDate`, `createdAt`, and `updatedAt`.
- **TaskStatus**: Enumerates the possible statuses for a task, including `PENDING` and `COMPLETED`.
- **Queries**: Allows fetching data from the API, such as `getUser`, `getUsers`, `getTask`, and `getTasks`.
- **Mutations**: Allows performing operations on the API, such as `createUser`, `createTask`, `updateTask`, and `deleteTask`.

Feel free to explore the full schema and leverage the provided queries and mutations to interact with the Task Management API.


## File Structure

The project follows a specific file structure to organize the codebase. Here's an explanation of the important files and directories:

```
graph
├── model
│   └── models_gen.go  # Generated models based on the GraphQL schema
├── generated.go  # Generated code from gqlgen library
├── resolver.go  # Resolver functions for handling GraphQL queries and mutations
├── schema.graphqls  # GraphQL schema definition file
├── schema.resolvers.go  # Resolver implementation generated by gqlgen
├── go.mod  # Go module file
├── go.sum  # Go dependencies checksum file
├── gqlgen.yml  # Configuration file for gqlgen
├── server.go  # Main server file to start the GraphQL API
└── tools.go  # File used for go generate command to run gqlgen
```

## Concepts

### Queries

Queries in **GraphQL** are used to retrieve data from the server. They are similar to GET requests in RESTful APIs. In the **Task Management API**, you can use queries to fetch user information, task details, and more. Here's an example of a query to retrieve a user's information:

```graphql
query {
  getUser(id: "123") {
    id
    name
    email
    tasks {
      id
      title
      description
    }
  }
}
```

This query fetches the user with the ID "123" and returns their ID, name, email, and associated tasks.

### Mutations

**Mutations** in **GraphQL** are used to modify data on the server. They are similar to POST, PUT, or DELETE requests in RESTful APIs. In the Task Management API, you can use mutations to create, update, or delete tasks and users. Here's an example of a mutation to create a new task:

```graphql
mutation {
  createTask(userId: "123", title: "Task 1", description: "This is task 1", dueDate: "2023-06-30") {
    id
    title
    description
    dueDate
  }
}
```

This mutation creates a new task with the specified details and returns the ID, title, description, and due date of the newly created task.

These concepts of queries and mutations play a key role in interacting with the Task Management API and performing various operations.


### API Usage

You can interact with the Task Management API using a GraphQL client or a tool like [GraphQL Playground](https://github.com/prisma-labs/graphql-playground) or [GraphiQL](https://github.com/graphql/graphiql). Make requests to the API using the defined queries and mutations.

### Examples

Here are some examples of how to use the Task Management API:

1. Creating a user:

   ```graphql
   mutation {
     createUser(name: "John Doe", email: "johndoe@example.com") {
       id
       name
       email
     }
   }
   ```

2. Creating a task:

   ```graphql
   mutation {
     createTask(
       userId: "<<user_id>>",
       title: "Task Title",
       description: "Task Description",
       dueDate: "2023-06-01"
     ) {
       id
       title
       description
       status
       dueDate
       createdAt
       updatedAt
     }
   }
   ```

3. Updating a task:

   ```graphql
   mutation {
     updateTask(
       id: "<<task_id>>",
       title: "Updated Task Title",
       description: "Updated Task Description",
       status: COMPLETED,
       dueDate: "2023-06-02"
     ) {
       id
       title
       description
       status
       dueDate
       createdAt
       updatedAt
     }
   }
   ```

4. Retrieving all users:

   ```graphql
   query {
     getUsers {
       id
       name
       email
       tasks {
         id
         title
         description
         status
         dueDate
         createdAt
         updatedAt
       }
     }
   }
   ```

Feel free to explore other available queries and mutations as defined in the schema.


### Important Notes

When adding additional methods or fields to the GraphQL schema in the Task Management API, it is essential to follow these steps:

1. **Close the `server.go` file**: Before making any changes to the schema, ensure that the `server.go` file is closed to avoid any conflicts or issues.

2. **Update the schema**: Modify the schema file (`schema.graphqls`) to include the desired changes. You can add new types, queries, mutations, or fields according to your requirements.

3. **Generate code**: After updating the schema, run the following command to generate the necessary resolvers and code based on the updated schema:

   ```shell
   go run github.com/99designs/gqlgen generate
   ```

   This command will automatically generate the resolvers and other code in the appropriate files, such as `schema.resolvers.go` and `models_gen.go`, based on the changes made to the schema.

4. **Restart the server**: Once the code generation is complete, you can reopen the `server.go` file and run the API again. The server will now include the updated schema with the newly added methods, queries, mutations, and fields.

By following these steps, you can easily extend the functionality of the Task Management API by adding more methods or fields to the GraphQL schema.

### Contributing

Contributions are welcome! If you'd like to contribute to this project, please follow the guidelines below:

1. Fork the repository and clone it to your local machine.
   ```shell
   git clone https://github.com/zaahidali/Learn-go-language.git
   ```

2. Create a new branch for your feature or bug fix.
   ```shell
   git checkout -b feature/my-feature
   ```

3. Make your changes and ensure they are properly tested.

4. Commit your changes with a descriptive commit message.
   ```shell
   git commit -m "Add new feature" 
   ```

5. Push your branch to your forked repository.
   ```shell
   git push origin feature/my-feature
   ```

6. Open a pull request on the main repository, describing your changes and why they should be merged.

7. Wait for feedback and address any requested changes.

8. Once your pull request is approved, it will be merged into the main repository.

Thank you for contributing to this project! Your efforts are greatly appreciated.

### License

This project is licensed under the [MIT License](LICENSE). Feel free to use and modify the code according to your needs.